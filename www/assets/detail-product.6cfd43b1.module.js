import{r as t,u as v,z as x,b as s,P as N,j as r,B as m}from"./vendor.6fce431f.module.js";import{p as I,h as w,s as j,i as B,B as S}from"./index.5e18d48c.module.js";import{c as C,a as E}from"./math.c3524e6e.module.js";const z=({zmproute:g})=>{const[e,f]=t.exports.useState(),[d,b]=t.exports.useState(),[n,y]=t.exports.useState(),o=v("cart");t.exports.useEffect(()=>{const{productId:a,storeId:l}=g.query;a&&(b(a),f(I[Number(a)])),l&&y(l)},[]);const p=t.exports.useMemo(()=>C(e==null?void 0:e.salePrice,e==null?void 0:e.retailPrice),[e]),i=t.exports.useMemo(()=>{const a=o.findIndex(l=>l.storeId==n);if(a>=0)return o[a]},[n,o]),c=t.exports.useMemo(()=>i?E(i.listOrder):0,[i,o]),u=t.exports.useMemo(()=>({content:"Th\xEAm v\xE0o gi\u1ECF",type:"primary",onClick:()=>{console.log(x,x.views.main.router.navigate),x.views.main.router.navigate({path:"/product-picker/",query:{productId:d,storeId:n}})}}),[d,n]),h=t.exports.useMemo(()=>({content:"Thanh to\xE1n",type:"secondary",onClick:()=>{}}),[d]),P=t.exports.useMemo(()=>c>0?[h,u]:[u],[c,u,h]);return s(N,{name:"Detail Product",onPageBeforeIn:w,onPageBeforeOut:j,className:"",children:[s("div",{className:" relative bg-white mb-[80px]",children:[e&&r("img",{src:B(e.pathImg),alt:"",className:"w-full h-auto"}),p&&s("div",{className:"absolute top-2.5 right-2.5 text-white font-medium text-sm px-2 py-1 bg-[#FF9743] w-auto h-auto rounded-lg",children:["-",p,"%"]}),s(m,{m:0,p:4,className:"border-b",children:[r("div",{className:" text-lg",children:e==null?void 0:e.nameProduct}),s("span",{className:" pt-1 font-semibold text-base text-primary",children:[r("span",{className:" font-normal text-xs text-primary",children:"\u0111"}),e==null?void 0:e.salePrice]}),s("span",{className:" pl-2 pt-1 font-medium text-sm text-zinc-400",children:["\u0111",e==null?void 0:e.retailPrice]})]}),r(m,{m:0,px:4,py:5,className:" text-justify break-words whitespace-pre-line",children:e==null?void 0:e.description})]}),c&&s(m,{px:4,py:3,flex:!0,justifyContent:"space-between",alignItems:"center",className:" bg-gray-300 rounded-primary fixed bottom-20 left-0 right-0 z-50",children:[r("div",{children:"\u0110\u01A1n h\xE0ng"}),s(m,{m:0,flex:!0,justifyContent:"space-around",alignItems:"center",children:[s("div",{children:[i.listOrder.length," m\xF3n"]}),r("div",{className:" w-1 h-1 bg-black rounded-lg mx-3"}),r("div",{children:c.toString()})]})]}),r(S,{listBtn:P})]})};export{z as default};
